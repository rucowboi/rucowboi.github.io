(()=>{var t={108:function(t){!function(){"use strict";var e=function(){return{escape:function(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:e,mimeType:function(t){var n,o;return(n="application/font-woff",o="image/jpeg",{woff:n,woff2:n,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:o,jpeg:o,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[e(t).toLowerCase()]||""},dataAsUrl:function(t,e){return"data:"+e+";base64,"+t},isDataUrl:function(t){return-1!==t.search(/^(data:)/)},canvasToBlob:function(t){return t.toBlob?new Promise((function(e){t.toBlob(e)})):function(t){return new Promise((function(e){for(var n=window.atob(t.toDataURL().split(",")[1]),o=n.length,a=new Uint8Array(o),i=0;i<o;i++)a[i]=n.charCodeAt(i);e(new Blob([a],{type:"image/png"}))}))}(t)},resolveUrl:function(t,e){var n=document.implementation.createHTMLDocument(),o=n.createElement("base");n.head.appendChild(o);var a=n.createElement("a");return n.body.appendChild(a),o.href=e,a.href=t,a.href},getAndEncode:function(t){return l.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime()),new Promise((function(e){var n,o=new XMLHttpRequest;if(o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){var a=new FileReader;a.onloadend=function(){var t=a.result.split(/,/)[1];e(t)},a.readAsDataURL(o.response)}else n?e(n):i("cannot fetch resource: "+t+", status: "+o.status)},o.ontimeout=function(){n?e(n):i("timeout of 30000ms occured while fetching resource: "+t)},o.responseType="blob",o.timeout=3e4,o.open("GET",t,!0),o.send(),l.impl.options.imagePlaceholder){var a=l.impl.options.imagePlaceholder.split(/,/);a&&a[1]&&(n=a[1])}function i(t){console.error(t),e("")}}))},uid:(t=0,function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)+t++}),delay:function(t){return function(e){return new Promise((function(n){setTimeout((function(){n(e)}),t)}))}},asArray:function(t){for(var e=[],n=t.length,o=0;o<n;o++)e.push(t[o]);return e},escapeXhtml:function(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(t){return new Promise((function(e,n){var o=new Image;o.onload=function(){e(o)},o.onerror=n,o.src=t}))},width:function(t){var e=n(t,"border-left-width"),o=n(t,"border-right-width");return t.scrollWidth+e+o},height:function(t){var e=n(t,"border-top-width"),o=n(t,"border-bottom-width");return t.scrollHeight+e+o}};var t;function e(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:""}function n(t,e){var n=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(n.replace("px",""))}}(),n=function(){var t=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(t,e,i){return n(t)?Promise.resolve(t).then(o).then((function(n){var o=Promise.resolve(t);return n.forEach((function(t){o=o.then((function(n){return a(n,t,e,i)}))})),o})):Promise.resolve(t)},shouldProcess:n,impl:{readUrls:o,inline:a}};function n(e){return-1!==e.search(t)}function o(n){for(var o,a=[];null!==(o=t.exec(n));)a.push(o[1]);return a.filter((function(t){return!e.isDataUrl(t)}))}function a(t,n,o,a){return Promise.resolve(n).then((function(t){return o?e.resolveUrl(t,o):t})).then(a||e.getAndEncode).then((function(t){return e.dataAsUrl(t,e.mimeType(n))})).then((function(o){return t.replace(function(t){return new RegExp("(url\\(['\"]?)("+e.escape(t)+")(['\"]?\\))","g")}(n),"$1"+o+"$3")}))}}(),o=function(){return{resolveAll:function(){return t(document).then((function(t){return Promise.all(t.map((function(t){return t.resolve()})))})).then((function(t){return t.join("\n")}))},impl:{readAll:t}};function t(){return Promise.resolve(e.asArray(document.styleSheets)).then((function(t){var n=[];return t.forEach((function(t){try{e.asArray(t.cssRules||[]).forEach(n.push.bind(n))}catch(e){console.log("Error while reading CSS rules from "+t.href,e.toString())}})),n})).then((function(t){return t.filter((function(t){return t.type===CSSRule.FONT_FACE_RULE})).filter((function(t){return n.shouldProcess(t.style.getPropertyValue("src"))}))})).then((function(e){return e.map(t)}));function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return n.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}}}(),a=function(){return{inlineAll:function o(a){return a instanceof Element?function(t){var e=t.style.getPropertyValue("background");return e?n.inlineAll(e).then((function(e){t.style.setProperty("background",e,t.style.getPropertyPriority("background"))})).then((function(){return t})):Promise.resolve(t)}(a).then((function(){return a instanceof HTMLImageElement?t(a).inline():Promise.all(e.asArray(a.childNodes).map((function(t){return o(t)})))})):Promise.resolve(a)},impl:{newImage:t}};function t(t){return{inline:function(n){return e.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(n||e.getAndEncode).then((function(n){return e.dataAsUrl(n,e.mimeType(t.src))})).then((function(e){return new Promise((function(n,o){t.onload=n,t.onerror=o,t.src=e}))}))}}}}(),i=void 0,r=!1,l={toSvg:c,toPng:function(t,e){return s(t,e||{}).then((function(t){return t.toDataURL()}))},toJpeg:function(t,e){return s(t,e=e||{}).then((function(t){return t.toDataURL("image/jpeg",e.quality||1)}))},toBlob:function(t,n){return s(t,n||{}).then(e.canvasToBlob)},toPixelData:function(t,n){return s(t,n||{}).then((function(n){return n.getContext("2d").getImageData(0,0,e.width(t),e.height(t)).data}))},impl:{fontFaces:o,images:a,util:e,inliner:n,options:{}}};function c(t,n){return function(t){void 0===t.imagePlaceholder?l.impl.options.imagePlaceholder=i:l.impl.options.imagePlaceholder=t.imagePlaceholder,void 0===t.cacheBust?l.impl.options.cacheBust=r:l.impl.options.cacheBust=t.cacheBust}(n=n||{}),Promise.resolve(t).then((function(t){return d(t,n.filter,!0)})).then(u).then(p).then((function(t){return n.bgcolor&&(t.style.backgroundColor=n.bgcolor),n.width&&(t.style.width=n.width+"px"),n.height&&(t.style.height=n.height+"px"),n.style&&Object.keys(n.style).forEach((function(e){t.style[e]=n.style[e]})),t})).then((function(o){return function(t,n,o){return Promise.resolve(t).then((function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)})).then(e.escapeXhtml).then((function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"})).then((function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+n+'" height="'+o+'">'+t+"</svg>"})).then((function(t){return"data:image/svg+xml;charset=utf-8,"+t}))}(o,n.width||e.width(t),n.height||e.height(t))}))}function s(t,n){return c(t,n).then(e.makeImage).then(e.delay(100)).then((function(o){var a=function(t){var o=document.createElement("canvas");if(o.width=n.width||e.width(t),o.height=n.height||e.height(t),n.bgcolor){var a=o.getContext("2d");a.fillStyle=n.bgcolor,a.fillRect(0,0,o.width,o.height)}return o}(t);return a.getContext("2d").drawImage(o,0,0),a}))}function d(t,n,o){return o||!n||n(t)?Promise.resolve(t).then((function(t){return t instanceof HTMLCanvasElement?e.makeImage(t.toDataURL()):t.cloneNode(!1)})).then((function(o){return function(t,n,o){var a=t.childNodes;return 0===a.length?Promise.resolve(n):function(t,e,n){var o=Promise.resolve();return e.forEach((function(e){o=o.then((function(){return d(e,n)})).then((function(e){e&&t.appendChild(e)}))})),o}(n,e.asArray(a),o).then((function(){return n}))}(t,o,n)})).then((function(n){return function(t,n){return n instanceof Element?Promise.resolve().then((function(){o=window.getComputedStyle(t),a=n.style,o.cssText?a.cssText=o.cssText:function(t,n){e.asArray(t).forEach((function(e){n.setProperty(e,t.getPropertyValue(e),t.getPropertyPriority(e))}))}(o,a);var o,a})).then((function(){[":before",":after"].forEach((function(o){!function(o){var a=window.getComputedStyle(t,o),i=a.getPropertyValue("content");if(""!==i&&"none"!==i){var r=e.uid();n.className=n.className+" "+r;var l=document.createElement("style");l.appendChild(function(t,n,o){var a="."+t+":"+n,i=o.cssText?r(o):l(o);return document.createTextNode(a+"{"+i+"}");function r(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}function l(t){return e.asArray(t).map(n).join("; ")+";";function n(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")}}}(r,o,a)),n.appendChild(l)}}(o)}))})).then((function(){if(t instanceof HTMLSelectElement&&n.options[t.selectedIndex].setAttribute("selected",!0),t instanceof HTMLTextAreaElement&&(n.innerHTML=t.value),t instanceof HTMLInputElement)switch(t.type){case"text":case"number":case"email":case"date":case"hidden":n.setAttribute("value",t.value);break;case"checkbox":t.checked&&n.setAttribute("checked",!0)}})).then((function(){n instanceof SVGElement&&(n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n instanceof SVGRectElement&&["width","height"].forEach((function(t){var e=n.getAttribute(t);e&&n.style.setProperty(t,e)})))})).then((function(){return n})):n}(t,n)})):Promise.resolve()}function u(t){return o.resolveAll().then((function(e){var n=document.createElement("style");return t.appendChild(n),n.appendChild(document.createTextNode(e)),t}))}function p(t){return a.inlineAll(t).then((function(){return t}))}t.exports=l}()},94:()=>{L.Control.BoxZoom=L.Control.extend({options:{position:"topright",aspectRatio:null,enableShiftDrag:!1,keepOn:!1},initialize:function(t){L.setOptions(this,t),this.map=null,this.active=!1},onAdd:function(t){if(this.map=t,this.active=!1,this.controlDiv=L.DomUtil.create("div","leaflet-control-boxzoom"),this.controlDiv.control=this,this.controlDiv.title="Click here then draw a square on the map, to zoom in to an area",L.DomEvent.addListener(this.controlDiv,"click",(function(){this.control.toggleState()})),L.DomUtil.create("i","fa fa-search-plus",this.controlDiv),L.DomUtil.create("span","leaflet-control-boxzoom-text",this.controlDiv).innerHTML="Box Zoom",this.setStateOff(),this.options.iconClasses){var e=L.DomUtil.create("i",this.options.iconClasses,this.controlDiv);e?(e.style.color=this.options.iconColor||"black",e.style.textAlign="center",e.style.verticalAlign="middle"):console.log("Unable to create element for icon")}return this.options.aspectRatio&&(this.map.boxZoom.aspectRatio=this.options.aspectRatio,this.map.boxZoom._onMouseMove=this._boxZoomControlOverride_onMouseMove,this.map.boxZoom._onMouseUp=this._boxZoomControlOverride_onMouseUp),L.DomEvent.disableClickPropagation(this.controlDiv),L.DomEvent.disableScrollPropagation(this.controlDiv),this.controlDiv},onRemove:function(t){this.options.aspectRatio&&(delete this.map.boxZoom.aspectRatio,this.map.boxZoom._onMouseMove=L.Map.BoxZoom.prototype._onMouseMove,this.map.boxZoom._onMouseUp=L.Map.BoxZoom.prototype._onMouseUp)},toggleState:function(){this.active?this.setStateOff():this.setStateOn()},setStateOn:function(){L.DomUtil.addClass(this.controlDiv,"leaflet-control-boxzoom-active"),this.active=!0,this.map.dragging.disable(),this.options.enableShiftDrag||this.map.boxZoom.addHooks(),this.map.on("mousedown",this.handleMouseDown,this),this.options.keepOn||this.map.on("boxzoomend",this.setStateOff,this),L.DomUtil.addClass(this.map._container,"leaflet-control-boxzoom-active")},setStateOff:function(){L.DomUtil.removeClass(this.controlDiv,"leaflet-control-boxzoom-active"),this.active=!1,this.map.off("mousedown",this.handleMouseDown,this),this.map.dragging.enable(),this.options.enableShiftDrag||this.map.boxZoom.removeHooks(),L.DomUtil.removeClass(this.map._container,"leaflet-control-boxzoom-active")},handleMouseDown:function(t){this.map.boxZoom._onMouseDown.call(this.map.boxZoom,{clientX:t.originalEvent.clientX,clientY:t.originalEvent.clientY,which:1,shiftKey:!0})},_boxZoomControlOverride_onMouseMove:function(t){this._moved||(this._box=L.DomUtil.create("div","leaflet-zoom-box",this._pane),L.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var e=this._startLayerPoint,n=this._box,o=this._map.mouseEventToLayerPoint(t),a=o.subtract(e),i=new L.Point(Math.min(o.x,e.x),Math.min(o.y,e.y));L.DomUtil.setPosition(n,i),this._moved=!0;var r=Math.max(0,Math.abs(a.x)-4),l=Math.max(0,Math.abs(a.y)-4);this.aspectRatio&&(l=r/this.aspectRatio),n.style.width=r+"px",n.style.height=l+"px"},_boxZoomControlOverride_onMouseUp:function(t){var e=this._box._leaflet_pos,n=new L.Point(this._box._leaflet_pos.x+this._box.offsetWidth,this._box._leaflet_pos.y+this._box.offsetHeight),o=this._map.layerPointToLatLng(e),a=this._map.layerPointToLatLng(n);if(!o.equals(a)){this._finish();var i=new L.LatLngBounds(o,a);this._map.fitBounds(i),this._map.fire("boxzoomend",{boxZoomBounds:i})}}}),L.Control.boxzoom=function(t){return new L.Control.BoxZoom(t)}},457:()=>{L.Control.ChoroplethLegend=L.Control.extend({options:{position:"topright",expanded:!1,selectoptions:[],onChoroplethChange:function(){}},initialize:function(t){L.setOptions(this,t)},onAdd:function(t){var e=this;return this._map=t,this.container=L.DomUtil.create("div","leaflet-control leaflet-bar leaflet-choroplethlegend-control leaflet-choroplethlegend-collapsed"),this.content_collapsed=L.DomUtil.create("div","leaflet-choroplethlegend-button",this.container),this.content_expanded=L.DomUtil.create("div","leaflet-choroplethlegend-content",this.container),this.content_collapsed.innerHTML='<i class="fa fa-bars"></i>',this.closebutton=L.DomUtil.create("i","leaflet-choroplethlegend-closebutton",this.content_expanded),this.closebutton.innerHTML="&times;",this.headtext=L.DomUtil.create("div","leaflet-choroplethlegend-headtext",this.content_expanded),this.headtext.innerHTML="Color By",this.selector=L.DomUtil.create("select","leaflet-choroplethlegend-select",this.content_expanded),this.selector.setAttribute("aria-label","Select how to color the map"),this.options.selectoptions.forEach((function(t){var n=L.DomUtil.create("option","",e.selector);n.innerHTML=t.label,n.value=t.field})),this.legendgradient=L.DomUtil.create("div","leaflet-choroplethlegend-legendgradient",this.content_expanded),this.legendminvalue=L.DomUtil.create("div","leaflet-choroplethlegend-minvalue",this.content_expanded),this.legendmaxvalue=L.DomUtil.create("div","leaflet-choroplethlegend-maxvalue",this.content_expanded),L.DomEvent.disableClickPropagation(this.container),L.DomEvent.disableScrollPropagation(this.container),L.DomEvent.addListener(this.content_collapsed,"keydown",(function(t){13==t.keyCode&&e.content_collapsed.click()})),L.DomEvent.addListener(this.closebutton,"keydown",(function(t){13==t.keyCode&&e.closebutton.click()})),L.DomEvent.addListener(this.content_collapsed,"click",(function(){e.expand()})),L.DomEvent.addListener(this.closebutton,"click",(function(){e.collapse()})),this.options.expanded&&setTimeout((function(){e.expand()}),500),this._map.options.keyboard&&(this.content_collapsed.tabIndex=0,this.closebutton.tabIndex=0),L.DomEvent.addListener(this.selector,"change",(function(){var t=e.getSelection();e.options.onChoroplethChange(t)})),this.container},expand:function(t){L.DomUtil.addClass(this.container,"leaflet-choroplethlegend-expanded"),L.DomUtil.removeClass(this.container,"leaflet-choroplethlegend-collapsed")},collapse:function(t){L.DomUtil.removeClass(this.container,"leaflet-choroplethlegend-expanded"),L.DomUtil.addClass(this.container,"leaflet-choroplethlegend-collapsed")},getSelection:function(){return this.selector.options[this.selector.selectedIndex].value},getSelectionLabel:function(){return this.selector.options[this.selector.selectedIndex].innerHTML},setSelection:function(t){this.selector.value=t;var e=new Event("change");this.selector.dispatchEvent(e)},setMinMax:function(t,e){this.legendminvalue.innerHTML=t,this.legendmaxvalue.innerHTML=e},setGradientColors:function(t){var e="linear-gradient(to right, ".concat(t.join(", "),")");this.legendgradient.style.backgroundImage=e},setPrintMode:function(t){t?L.DomUtil.addClass(this._container,"leaflet-choroplethlegend-printmode"):L.DomUtil.removeClass(this._container,"leaflet-choroplethlegend-printmode")}})},647:()=>{L.Control.LayerPicker=L.Control.extend({options:{position:"bottomright",expanded:!1,layers:[],onLayerChange:function(){}},initialize:function(t){L.setOptions(this,t)},onAdd:function(t){var e=this;return this._map=t,this.container=L.DomUtil.create("div","leaflet-control leaflet-bar leaflet-layerpicker-control leaflet-layerpicker-collapsed"),this.content_collapsed=L.DomUtil.create("div","leaflet-layerpicker-button",this.container),this.content_expanded=L.DomUtil.create("div","leaflet-layerpicker-content",this.container),this.content_collapsed.innerHTML='<i class="fa fa-layer-group"></i>',this.closebutton=L.DomUtil.create("i","leaflet-layerpicker-closebutton",this.content_expanded),this.closebutton.innerHTML="&times;",this.headtext=L.DomUtil.create("div","leaflet-layerpicker-headtext",this.content_expanded),this.headtext.innerHTML="Reference Layers",this.layercheckboxes={},this.options.layers.forEach((function(t){var n=L.DomUtil.create("label","leaflet-layerpicker-layerentry",e.content_expanded),o=L.DomUtil.create("input","leaflet-layerpicker-checkbox",n);o.type="checkbox",o.value=t.id,L.DomUtil.create("span","leaflet-layerpicker-name",n).innerHTML=t.label,L.DomEvent.addListener(o,"change",(function(){e.toggleLayer(o.value,o.checked)})),e.layercheckboxes[t.id]={id:t.id,label:t.label,maplayer:t.layer,checkbox:o},t.checked&&(o.checked=!0,e.toggleLayer(o.value,o.checked))})),L.DomEvent.disableClickPropagation(this.container),L.DomEvent.disableScrollPropagation(this.container),L.DomEvent.addListener(this.content_collapsed,"keydown",(function(t){13==t.keyCode&&e.content_collapsed.click()})),L.DomEvent.addListener(this.closebutton,"keydown",(function(t){13==t.keyCode&&e.closebutton.click()})),L.DomEvent.addListener(this.content_collapsed,"click",(function(){e.expand()})),L.DomEvent.addListener(this.closebutton,"click",(function(){e.collapse()})),this.options.expanded&&setTimeout((function(){e.expand()}),500),this._map.options.keyboard&&(this.content_collapsed.tabIndex=0,this.closebutton.tabIndex=0),this.container},expand:function(t){L.DomUtil.addClass(this.container,"leaflet-layerpicker-expanded"),L.DomUtil.removeClass(this.container,"leaflet-layerpicker-collapsed")},collapse:function(t){L.DomUtil.removeClass(this.container,"leaflet-layerpicker-expanded"),L.DomUtil.addClass(this.container,"leaflet-layerpicker-collapsed")},toggleLayer:function(t,e){var n=this.layercheckboxes[t];e?(n.checkbox.checked=!0,this._map.addLayer(n.maplayer)):(n.checkbox.checked=!1,this._map.removeLayer(n.maplayer)),this.options.onLayerChange(t,e)},getLayerStates:function(){return Object.values(this.layercheckboxes).map((function(t){return{id:t.id,label:t.label,checked:t.checkbox.checked}}))}})},516:()=>{L.Evented.addInitHook((function(){this._singleClickTimeout=null,this.on("click",this._scheduleSingleClick,this),this.on("dblclick dragstart zoomstart",this._cancelSingleClick,this)})),L.Evented.include({_cancelSingleClick:function(){setTimeout(this._clearSingleClickTimeout.bind(this),0)},_scheduleSingleClick:function(t){this._clearSingleClickTimeout(),this._singleClickTimeout=setTimeout(this._fireSingleClick.bind(this,t),this.options.singleClickTimeout||500)},_fireSingleClick:function(t){t.originalEvent._stopped||this.fire("singleclick",L.Util.extend(t,{type:"singleclick"}))},_clearSingleClickTimeout:function(){null!=this._singleClickTimeout&&(clearTimeout(this._singleClickTimeout),this._singleClickTimeout=null)}})},672:()=>{L.TopoJSON=L.GeoJSON.extend({addData:function(t){var e,n;if("Topology"===t.type){for(n in t.objects)t.objects.hasOwnProperty(n)&&(e=topojson.feature(t,t.objects[n]),L.GeoJSON.prototype.addData.call(this,e));return this}return L.GeoJSON.prototype.addData.call(this,t),this}}),L.topoJson=function(t,e){return new L.TopoJSON(t,e)}},619:(t,e,n)=>{var o=n(108),a=n(609);L.Control.EasyPrint=L.Control.extend({options:{title:"Print map",position:"topleft",sizeModes:["Current"],filename:"map",exportOnly:!1,hidden:!1,tileWait:500,hideControlContainer:!0,hideClasses:[],customWindowTitle:window.document.title,spinnerBgCOlor:"#0DC5C1",customSpinnerClass:"epLoader",defaultSizeTitles:{Current:"Current Size",A4Landscape:"A4 Landscape",A4Portrait:"A4 Portrait"}},onAdd:function(){this.mapContainer=this._map.getContainer(),this.options.sizeModes=this.options.sizeModes.map((function(t){return"Current"===t?{name:this.options.defaultSizeTitles.Current,className:"CurrentSize"}:"A4Landscape"===t?{height:this._a4PageSize.height,width:this._a4PageSize.width,name:this.options.defaultSizeTitles.A4Landscape,className:"A4Landscape page"}:"A4Portrait"===t?{height:this._a4PageSize.width,width:this._a4PageSize.height,name:this.options.defaultSizeTitles.A4Portrait,className:"A4Portrait page"}:t}),this);var t=L.DomUtil.create("div","leaflet-control-easyPrint leaflet-bar leaflet-control");if(!this.options.hidden){this._addCss(),L.DomEvent.addListener(t,"mouseover",this._togglePageSizeButtons,this),L.DomEvent.addListener(t,"mouseout",this._togglePageSizeButtons,this);var e="leaflet-control-easyPrint-button";this.options.exportOnly&&(e+="-export"),this.link=L.DomUtil.create("a",e,t),this.link.id="leafletEasyPrint",this.link.title=this.options.title,this.holder=L.DomUtil.create("ul","easyPrintHolder",t),this.options.sizeModes.forEach((function(t){var e=L.DomUtil.create("li","easyPrintSizeMode",this.holder);e.title=t.name,L.DomUtil.create("a",t.className,e),L.DomEvent.addListener(e,"click",this.printMap,this)}),this),L.DomEvent.disableClickPropagation(t)}return t},printMap:function(t,e){e&&(this.options.filename=e),this.options.exportOnly||(this._page=window.open("","_blank","toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,left=10, top=10, width=200, height=250, visible=none"),this._page.document.write(this._createSpinner(this.options.customWindowTitle,this.options.customSpinnerClass,this.options.spinnerBgCOlor))),this.originalState={mapWidth:this.mapContainer.style.width,widthWasAuto:!1,widthWasPercentage:!1,mapHeight:this.mapContainer.style.height,zoom:this._map.getZoom(),center:this._map.getCenter()},"auto"===this.originalState.mapWidth?(this.originalState.mapWidth=this._map.getSize().x+"px",this.originalState.widthWasAuto=!0):this.originalState.mapWidth.includes("%")&&(this.originalState.percentageWidth=this.originalState.mapWidth,this.originalState.widthWasPercentage=!0,this.originalState.mapWidth=this._map.getSize().x+"px"),this._map.fire("easyPrint-start",{event:t}),this.options.hidden||this._togglePageSizeButtons({type:null}),this.options.hideControlContainer&&this._toggleControls(),this.options.hideClasses&&this._toggleClasses(this.options.hideClasses);var n="string"!=typeof t?t.target.className:t;if("CurrentSize"===n)return this._printOpertion(n);this.outerContainer=this._createOuterContainer(this.mapContainer),this.originalState.widthWasAuto&&(this.outerContainer.style.width=this.originalState.mapWidth),this._createImagePlaceholder(n)},_createImagePlaceholder:function(t){var e=this;o.toPng(this.mapContainer,{width:parseInt(this.originalState.mapWidth.replace("px")),height:parseInt(this.originalState.mapHeight.replace("px"))}).then((function(n){e.blankDiv=document.createElement("div");var o=e.blankDiv;e.outerContainer.parentElement.insertBefore(o,e.outerContainer),o.className="epHolder",o.style.backgroundImage='url("'+n+'")',o.style.position="absolute",o.style.zIndex=1011,o.style.display="initial",o.style.width=e.originalState.mapWidth,o.style.height=e.originalState.mapHeight,e._resizeAndPrintMap(t)})).catch((function(t){console.error("oops, something went wrong!",t)}))},_resizeAndPrintMap:function(t){this.outerContainer.style.opacity=0;var e=this.options.sizeModes.filter((function(e){return e.className.indexOf(t)>-1}));e=e[0],this.mapContainer.style.width=e.width+"px",this.mapContainer.style.height=e.height+"px",this.mapContainer.style.width>this.mapContainer.style.height?this.orientation="portrait":this.orientation="landscape",this._map.setView(this.originalState.center),this._map.setZoom(this.originalState.zoom),this._map.invalidateSize(),this.options.tileLayer?this._pausePrint(t):this._printOpertion(t)},_pausePrint:function(t){var e=this,n=setInterval((function(){e.options.tileLayer.isLoading()||(clearInterval(n),e._printOpertion(t))}),e.options.tileWait)},_printOpertion:function(t){var e=this,n=this.mapContainer.style.width;(this.originalState.widthWasAuto&&"CurrentSize"===t||this.originalState.widthWasPercentage&&"CurrentSize"===t)&&(n=this.originalState.mapWidth),o.toPng(e.mapContainer,{width:parseInt(n),height:parseInt(e.mapContainer.style.height.replace("px"))}).then((function(t){var n=e._dataURItoBlob(t);e.options.exportOnly?a.saveAs(n,e.options.filename+".png"):e._sendToBrowserPrint(t,e.orientation),e._toggleControls(!0),e._toggleClasses(e.options.hideClasses,!0),e.outerContainer&&(e.originalState.widthWasAuto?e.mapContainer.style.width="auto":e.originalState.widthWasPercentage?e.mapContainer.style.width=e.originalState.percentageWidth:e.mapContainer.style.width=e.originalState.mapWidth,e.mapContainer.style.height=e.originalState.mapHeight,e._removeOuterContainer(e.mapContainer,e.outerContainer,e.blankDiv),e._map.invalidateSize(),e._map.setView(e.originalState.center),e._map.setZoom(e.originalState.zoom)),e._map.fire("easyPrint-finished")})).catch((function(t){console.error("Print operation failed",t)}))},_sendToBrowserPrint:function(t,e){this._page.resizeTo(600,800);var n=this._createNewWindow(t,e,this);this._page.document.body.innerHTML="",this._page.document.write(n),this._page.document.close()},_createSpinner:function(t,e,n){return"<html><head><title>"+t+"</title></head><body><style>\n      body{\n        background: "+n+";\n      }\n      .epLoader,\n      .epLoader:before,\n      .epLoader:after {\n        border-radius: 50%;\n      }\n      .epLoader {\n        color: #ffffff;\n        font-size: 11px;\n        text-indent: -99999em;\n        margin: 55px auto;\n        position: relative;\n        width: 10em;\n        height: 10em;\n        box-shadow: inset 0 0 0 1em;\n        -webkit-transform: translateZ(0);\n        -ms-transform: translateZ(0);\n        transform: translateZ(0);\n      }\n      .epLoader:before,\n      .epLoader:after {\n        position: absolute;\n        content: '';\n      }\n      .epLoader:before {\n        width: 5.2em;\n        height: 10.2em;\n        background: #0dc5c1;\n        border-radius: 10.2em 0 0 10.2em;\n        top: -0.1em;\n        left: -0.1em;\n        -webkit-transform-origin: 5.2em 5.1em;\n        transform-origin: 5.2em 5.1em;\n        -webkit-animation: load2 2s infinite ease 1.5s;\n        animation: load2 2s infinite ease 1.5s;\n      }\n      .epLoader:after {\n        width: 5.2em;\n        height: 10.2em;\n        background: #0dc5c1;\n        border-radius: 0 10.2em 10.2em 0;\n        top: -0.1em;\n        left: 5.1em;\n        -webkit-transform-origin: 0px 5.1em;\n        transform-origin: 0px 5.1em;\n        -webkit-animation: load2 2s infinite ease;\n        animation: load2 2s infinite ease;\n      }\n      @-webkit-keyframes load2 {\n        0% {\n          -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n        }\n        100% {\n          -webkit-transform: rotate(360deg);\n          transform: rotate(360deg);\n        }\n      }\n      @keyframes load2 {\n        0% {\n          -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n        }\n        100% {\n          -webkit-transform: rotate(360deg);\n          transform: rotate(360deg);\n        }\n      }\n      </style>\n    <div class=\""+e+'">Loading...</div></body></html>'},_createNewWindow:function(t,e,n){return"<html><head>\n        <style>@media print {\n          img { max-width: 98%!important; max-height: 98%!important; }\n          @page { size: "+e+";}}\n        </style>\n        <script>function step1(){\n        setTimeout('step2()', 10);}\n        function step2(){window.print();window.close()}\n        <\/script></head><body onload='step1()'>\n        <img src=\""+t+'" style="display:block; margin:auto;"></body></html>'},_createOuterContainer:function(t){var e=document.createElement("div");return t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t),e.appendChild(t),e.style.width=t.style.width,e.style.height=t.style.height,e.style.display="inline-block",e.style.overflow="hidden",e},_removeOuterContainer:function(t,e,n){e.parentNode&&(e.parentNode.insertBefore(t,e),e.parentNode.removeChild(n),e.parentNode.removeChild(e))},_addCss:function(){var t=document.createElement("style");t.type="text/css",t.innerHTML=".leaflet-control-easyPrint-button { \n      background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8cGF0aCBkPSJNMTI4LDMyaDI1NnY2NEgxMjhWMzJ6IE00ODAsMTI4SDMyYy0xNy42LDAtMzIsMTQuNC0zMiwzMnYxNjBjMCwxNy42LDE0LjM5OCwzMiwzMiwzMmg5NnYxMjhoMjU2VjM1Mmg5NiAgIGMxNy42LDAsMzItMTQuNCwzMi0zMlYxNjBDNTEyLDE0Mi40LDQ5Ny42LDEyOCw0ODAsMTI4eiBNMzUyLDQ0OEgxNjBWMjg4aDE5MlY0NDh6IE00ODcuMTk5LDE3NmMwLDEyLjgxMy0xMC4zODcsMjMuMi0yMy4xOTcsMjMuMiAgIGMtMTIuODEyLDAtMjMuMjAxLTEwLjM4Ny0yMy4yMDEtMjMuMnMxMC4zODktMjMuMiwyMy4xOTktMjMuMkM0NzYuODE0LDE1Mi44LDQ4Ny4xOTksMTYzLjE4Nyw0ODcuMTk5LDE3NnoiIGZpbGw9IiMwMDAwMDAiLz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K);\n      background-size: 16px 16px; \n      cursor: pointer; \n    }\n    .leaflet-control-easyPrint-button-export { \n      background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDQzMy41IDQzMy41IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MzMuNSA0MzMuNTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxnIGlkPSJmaWxlLWRvd25sb2FkIj4KCQk8cGF0aCBkPSJNMzk1LjI1LDE1M2gtMTAyVjBoLTE1M3YxNTNoLTEwMmwxNzguNSwxNzguNUwzOTUuMjUsMTUzeiBNMzguMjUsMzgyLjV2NTFoMzU3di01MUgzOC4yNXoiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K);\n      background-size: 16px 16px; \n      cursor: pointer; \n    }\n    .easyPrintHolder a {\n      background-size: 16px 16px;\n      cursor: pointer;\n    }\n    .easyPrintHolder .CurrentSize{\n      background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTZweCIgdmVyc2lvbj0iMS4xIiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNjQgNjQiPgogIDxnPgogICAgPGcgZmlsbD0iIzFEMUQxQiI+CiAgICAgIDxwYXRoIGQ9Ik0yNS4yNTUsMzUuOTA1TDQuMDE2LDU3LjE0NVY0Ni41OWMwLTEuMTA4LTAuODk3LTIuMDA4LTIuMDA4LTIuMDA4QzAuODk4LDQ0LjU4MiwwLDQ1LjQ4MSwwLDQ2LjU5djE1LjQwMiAgICBjMCwwLjI2MSwwLjA1MywwLjUyMSwwLjE1NSwwLjc2N2MwLjIwMywwLjQ5MiwwLjU5NCwwLjg4MiwxLjA4NiwxLjA4N0MxLjQ4Niw2My45NDcsMS43NDcsNjQsMi4wMDgsNjRoMTUuNDAzICAgIGMxLjEwOSwwLDIuMDA4LTAuODk4LDIuMDA4LTIuMDA4cy0wLjg5OC0yLjAwOC0yLjAwOC0yLjAwOEg2Ljg1NWwyMS4yMzgtMjEuMjRjMC43ODQtMC43ODQsMC43ODQtMi4wNTUsMC0yLjgzOSAgICBTMjYuMDM5LDM1LjEyMSwyNS4yNTUsMzUuOTA1eiIgZmlsbD0iIzAwMDAwMCIvPgogICAgICA8cGF0aCBkPSJtNjMuODQ1LDEuMjQxYy0wLjIwMy0wLjQ5MS0wLjU5NC0wLjg4Mi0xLjA4Ni0xLjA4Ny0wLjI0NS0wLjEwMS0wLjUwNi0wLjE1NC0wLjc2Ny0wLjE1NGgtMTUuNDAzYy0xLjEwOSwwLTIuMDA4LDAuODk4LTIuMDA4LDIuMDA4czAuODk4LDIuMDA4IDIuMDA4LDIuMDA4aDEwLjU1NmwtMjEuMjM4LDIxLjI0Yy0wLjc4NCwwLjc4NC0wLjc4NCwyLjA1NSAwLDIuODM5IDAuMzkyLDAuMzkyIDAuOTA2LDAuNTg5IDEuNDIsMC41ODlzMS4wMjctMC4xOTcgMS40MTktMC41ODlsMjEuMjM4LTIxLjI0djEwLjU1NWMwLDEuMTA4IDAuODk3LDIuMDA4IDIuMDA4LDIuMDA4IDEuMTA5LDAgMi4wMDgtMC44OTkgMi4wMDgtMi4wMDh2LTE1LjQwMmMwLTAuMjYxLTAuMDUzLTAuNTIyLTAuMTU1LTAuNzY3eiIgZmlsbD0iIzAwMDAwMCIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==)\n    }\n    .easyPrintHolder .page {\n      background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTguMS4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ0NC44MzMgNDQ0LjgzMyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDQ0LjgzMyA0NDQuODMzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij4KPGc+Cgk8Zz4KCQk8cGF0aCBkPSJNNTUuMjUsNDQ0LjgzM2gzMzQuMzMzYzkuMzUsMCwxNy03LjY1LDE3LTE3VjEzOS4xMTdjMC00LjgxNy0xLjk4My05LjM1LTUuMzgzLTEyLjQ2N0wyNjkuNzMzLDQuNTMzICAgIEMyNjYuNjE3LDEuNywyNjIuMzY3LDAsMjU4LjExNywwSDU1LjI1Yy05LjM1LDAtMTcsNy42NS0xNywxN3Y0MTAuODMzQzM4LjI1LDQzNy4xODMsNDUuOSw0NDQuODMzLDU1LjI1LDQ0NC44MzN6ICAgICBNMzcyLjU4MywxNDYuNDgzdjAuODVIMjU2LjQxN3YtMTA4LjhMMzcyLjU4MywxNDYuNDgzeiBNNzIuMjUsMzRoMTUwLjE2N3YxMzAuMzMzYzAsOS4zNSw3LjY1LDE3LDE3LDE3aDEzMy4xNjd2MjI5LjVINzIuMjVWMzR6ICAgICIgZmlsbD0iIzAwMDAwMCIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=);\n    }\n    .easyPrintHolder .A4Landscape { \n      transform: rotate(-90deg);\n    }\n\n    .leaflet-control-easyPrint-button{\n      display: inline-block;\n    }\n    .easyPrintHolder{\n      margin-top:-31px;\n      margin-bottom: -5px;\n      margin-left: 30px;\n      padding-left: 0px;\n      display: none;\n    }\n\n    .easyPrintSizeMode {\n      display: inline-block;\n    }\n    .easyPrintHolder .easyPrintSizeMode a {\n      border-radius: 0px;\n    }\n\n    .easyPrintHolder .easyPrintSizeMode:last-child a{\n      border-top-right-radius: 2px;\n      border-bottom-right-radius: 2px;\n      margin-left: -1px;\n    }\n\n    .easyPrintPortrait:hover, .easyPrintLandscape:hover{\n      background-color: #757570;\n      cursor: pointer;\n    }",document.body.appendChild(t)},_dataURItoBlob:function(t){for(var e=atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(e.length),a=new DataView(o),i=0;i<e.length;i++)a.setUint8(i,e.charCodeAt(i));return new Blob([o],{type:n})},_togglePageSizeButtons:function(t){var e=this.holder.style,n=this.link.style;"mouseover"===t.type?(e.display="block",n.borderTopRightRadius="0",n.borderBottomRightRadius="0"):(e.display="none",n.borderTopRightRadius="2px",n.borderBottomRightRadius="2px")},_toggleControls:function(t){var e=document.getElementsByClassName("leaflet-control-container")[0];if(t)return e.style.display="block";e.style.display="none"},_toggleClasses:function(t,e){t.forEach((function(t){var n=document.getElementsByClassName(t)[0];if(e)return n.style.display="block";n.style.display="none"}))},_a4PageSize:{height:715,width:1045}}),L.easyPrint=function(t){return new L.Control.EasyPrint(t)}},53:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});const o=n.p+"index.html"},609:function(t,e,n){var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:this;function a(t,e,n){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){c(o.response,e,n)},o.onerror=function(){console.error("could not download file")},o.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return e.status>=200&&e.status<=299}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(t,e,n){var l=o.URL||o.webkitURL,c=document.createElement("a");e=e||t.name||"download",c.download=e,c.rel="noopener","string"==typeof t?(c.href=t,c.origin!==location.origin?i(c.href)?a(t,e,n):r(c,c.target="_blank"):r(c)):(c.href=l.createObjectURL(t),setTimeout((function(){l.revokeObjectURL(c.href)}),4e4),setTimeout((function(){r(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download","string"==typeof t)if(i(t))a(t,e,n);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout((function(){r(o)}))}else navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return a(t,e,n);var r="application/octet-stream"===t.type,c=/constructor/i.test(o.HTMLElement)||o.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&c||l)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var t=d.result;t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},d.readAsDataURL(t)}else{var u=o.URL||o.webkitURL,p=u.createObjectURL(t);i?i.location=p:location.href=p,i=null,setTimeout((function(){u.revokeObjectURL(p)}),4e4)}});o.saveAs=c.saveAs=c,t.exports=c},820:(t,e,n)=>{"use strict";n.r(e)},926:(t,e,n)=>{"use strict";n.r(e)},359:(t,e,n)=>{"use strict";n.r(e)},803:(t,e,n)=>{"use strict";n.r(e)}},e={};function n(o){var a=e[o];if(void 0!==a)return a.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var o=e.getElementsByTagName("script");if(o.length)for(var a=o.length-1;a>-1&&(!t||!/^http(s?):/.test(t));)t=o[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n(53),n(820),n(672),n(359),n(457),n(803),n(647),n(926),n(94),n(516),n(619);var r,l,c,s,d,u,p,h={startingLocation:"2 The Circle, Georgetown, DE 19947",ctaid:10,MAP_BBOX:[[38.5268,-74.2317],[39.8108,-75.5277]],MIN_ZOOM:6,MAX_ZOOM:15},f=[{value:"Zone",label:"Zone"},{value:"County",label:"County"}],m=[{value:"05yrs",label:"5-Year: 2015-2019"},{value:"10yrs",label:"10-Year: 2010-2019"}],g=[{value:"AllSite",label:"All Cancer Sites"},{value:"Prostate",label:"Prostate"},{value:"Lung",label:"Lung and Bronchus"},{value:"Breast",label:"Female Breast"},{value:"CRC",label:"Colon and Rectum"},{value:"Kidney",label:"Kidney and Renal Pelvis"},{value:"NHL",label:"Non-Hodgkin Lymphoma"},{value:"Urinary",label:"Urinary Bladder"},{value:"Mela",label:"Melanoma of the Skin"},{value:"Pancreas",label:"Pancreas"},{value:"Leuks",label:"Leukemias"},{value:"Oral",label:"Oral Cavity and Pharynx"},{value:"Thyroid",label:"Thyroid"},{value:"Uterine",label:"Corpus and Uterus, NOS"},{value:"Liver",label:"Liver and Intrahepatic Bile Duct"},{value:"Stomach",label:"Stomach"},{value:"Myeloma",label:"Myeloma"},{value:"Brain",label:"Brain and Other Nervous System"},{value:"Larynx",label:"Larynx"},{value:"Ovary",label:"Ovary"},{value:"Esoph",label:"Esophagus"},{value:"Cervix",label:"Cervix"},{value:"HL",label:"Hodgkin Lymphoma"},{value:"Testis",label:"Testis"}],y=[{value:"Both",label:"All Sexes"},{value:"Male",label:"Male"},{value:"Female",label:"Female"}],v=[{value:"",label:"All Ethnicities"},{value:"W",label:"Non-Hispanic White"},{value:"B",label:"Non-Hispanic Black"},{value:"H",label:"Hispanic"}],b={Breast:"Female",Uterine:"Female",Ovary:"Female",Cervix:"Female",Prostate:"Male",Testis:"Male"},C={Both:"#4f629a",Female:"#7a89d7",Male:"#8faed2"},x=[{title:"Population & Income",rows:[{field:"TotalPop",label:"Total Population",format:"integer",tooltip_id:void 0},{field:"PctRural",label:"% Living in Rural Area",format:"percent",tooltip_id:"PctRural"}]},{title:"Race & Ethnicity",rows:[{field:"PctMinority",label:"% Minority (other than non-Hispanic White)",format:"percent",tooltip_id:"PctMinority"},{field:"PctHispanic",label:"% Hispanic",format:"percent",tooltip_id:"PctHispanic"},{field:"PctBlackNH",label:"% Black (non-Hispanic)",format:"percent",tooltip_id:"PctBlackNH"}]},{title:"Income",rows:[{field:"Pct100Pov",label:"% Below Poverty",format:"percent",tooltip_id:"PctBelowPov"},{field:"PctNoHealthIns",label:"% Without Health Insurance",format:"percent",tooltip_id:"PctNoHealthIns"}]},{title:"Education",rows:[{field:"PctEducBchPlus",label:"% With Bachelors Degree or Higher",format:"percent",tooltip_id:"PctEducBchPlus"},{field:"PctEducLHS",label:"% Did Not Finish High School",format:"percent",tooltip_id:"PctEducLHS"}]},{title:"Disability Status",rows:[{field:"PctDisabled",label:"% With a Disability",format:"percent",tooltip_id:"PctDisabled"}]}],w={fillOpacity:.25,fillColor:"#cccccc",color:"black",opacity:.2,weight:1},M={fillOpacity:0,fillColor:"#cccccc",color:"black",opacity:0,weight:0},I={color:"black",opacity:1,weight:1,fill:!1},D={color:"#293885",opacity:1,weight:5,fill:!1},P={color:null,opacity:100,weight:0,fill:!1},S={Q1:{fillOpacity:.75,fillColor:"#ffffb3",stroke:!1},Q2:{fillOpacity:.75,fillColor:"#ffe066",stroke:!1},Q3:{fillOpacity:.75,fillColor:"#f99e26",stroke:!1},Q4:{fillOpacity:.75,fillColor:"#b36093",stroke:!1},Q5:{fillOpacity:.75,fillColor:"#873d6a",stroke:!1}},A={Q1:{fillOpacity:.75,fillColor:"#e6eaff",stroke:!1},Q2:{fillOpacity:.75,fillColor:"#abb4e0",stroke:!1},Q3:{fillOpacity:.75,fillColor:"#7683c2",stroke:!1},Q4:{fillOpacity:.75,fillColor:"#4b5aa3",stroke:!1},Q5:{fillOpacity:.75,fillColor:"#293885",stroke:!1}},k=[{field:"Cases",label:"Cases",format:"integer",colorramp:S},{field:"AAIR",label:"Incidence",format:"float",colorramp:S},{field:"TotalPop",label:"Total Population",format:"integer",colorramp:A},{field:"PctRural",label:"% Living in Rural Area",format:"percent",colorramp:A},{field:"PctMinority",label:"% Minority (other than non-Hispanic White)",format:"percent",colorramp:A},{field:"PctHispanic",label:"% Hispanic",format:"percent",colorramp:A},{field:"PctBlackNH",label:"% Black (non-Hispanic)",format:"percent",colorramp:A},{field:"Pct100Pov",label:"% Below Poverty",format:"percent",colorramp:A},{field:"PctNoHealthIns",label:"% Without Health Insurance",format:"percent",colorramp:A},{field:"PctEducBchPlus",label:"% With Bachelors Degree or Higher",format:"percent",colorramp:A},{field:"PctEducLHS",label:"% Did Not Finish High School",format:"percent",colorramp:A},{field:"PctDisabled",label:"% With a Disability",format:"percent",colorramp:A},{field:"Pct_forborn",label:"% Foreign Born",format:"percent",colorramp:A}],T={fill:!1,color:"black",weight:5},E={fill:!1,color:"black",weight:1},N=[{id:"basemap",label:"Base Map",checked:!0,layer:L.tileLayer("https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png",{pane:"tilePane",zIndex:0,attribution:'Map tiles by <a target="_blank" href="http://www.mapbox.com">MapBox</a>.<br />Data &copy; <a target="_blank" href="http://openstreetmap.org/copyright" target="_blank">OpenStreetMap contributings</a>'})},{id:"labels",label:"Labels",checked:!0,layer:L.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/light_only_labels/{z}/{x}/{y}{r}.png",{pane:"popupPane",zIndex:999,attribution:'Map tiles by <a target="_blank" href="http://www.mapbox.com">MapBox</a>.<br />Data &copy; <a target="_blank" href="http://openstreetmap.org/copyright" target="_blank">OpenStreetMap contributings</a>'})},{id:"counties",label:"Counties",layer:void 0},{id:"zones",label:"Zones",checked:!1,layer:void 0}],z={};function j(){Z(!1),r.addressmarker.setLatLng([0,0]).removeFrom(r);var t=$('div.data-filters input[type="text"], div.data-filters select').filter('[name="address"]'),e=t.data("hasbeenchanged");t.data("hasbeenchanged",!1);var n,o=U();if(console.log("params: ",o),o.ctaid=h.ctaid,o.ctaname=h.stateName,o.address){var a=o.address.match(/^\s*((A|B)\d\d\d\d)\s*$/),i=o.address.match(/\(((A|B)\d\d\d\d)\)/);if(a||i){var l=(n=a?a[1]:i[1],r.ctapolygonfills.getLayers().filter((function(t){return t.feature.properties.ZoneIDOrig==n}))[0]);l?(o.ctaid=l.feature.properties.ZoneIDOrig,o.ctaname=l.feature.properties.ZoneName.replace(/\_\d+$/,""),o.bbox=e?l.getBounds():null,_(o)):Z("Could not find that CTA")}else!function(t,e){var n=t.match(/\s*(\-?\d+\.\d+)\s*,\s*(\-?\d+\.\d+)\s*/);if(n){var o=[parseFloat(n[1]),parseFloat(n[2])];return e(o)}if(z[t])return e(z[t]);var a="https://dev.virtualearth.net/REST/v1/Locations?query=".concat(encodeURIComponent(t),"&key=").concat("AqmUJHuT9QJE5A0m1Kf48g2vxBND3cJ0_jJI3jJQIv9oE11VIG9WZbhq2owRSUZK","&s=1");$.ajax({url:a,dataType:"jsonp",jsonp:"jsonp",success:function(n){if(n.resourceSets&&n.resourceSets[0].resources.length){var o=n.resourceSets[0].resources[0];z[t]=o.point.coordinates,e(o.point.coordinates)}else e(null)},error:function(t){return alert("There was a problem finding that address. Please try again.")}})}(o.address,(function(t){if(!t)return Z("Could not find that address");var n=[t[0],t[1]],a=function(t){var e=t.hasOwnProperty("length")?L.latLng(t[0],t[1]):t;return leafletPip.pointInLayer(e,r.ctapolygonfills)[0]}(n),i=function(t){var e=t.hasOwnProperty("length")?L.latLng(t[0],t[1]):t;return leafletPip.pointInLayer(e,r.countypolygonfills)[0]}(n);a?(o.ctaid=a.feature.properties.ZoneIDOrig,o.ctaname=a.feature.properties.ZoneName.replace(/\_\d+$/,""),o.latlng=n,o.bbox=e?a.getBounds():null,o.countyId=i.feature.properties.GEOID,o.countyName=i.feature.properties.Name,_(o)):(r.addressmarker.setLatLng(n).addTo(r),Z("Data not available for that location"),_(o))}))}else _(o)}function _(t){var e=$(".typeName");if("Zone"==t.type)for(var n=0;n<e.length;n++)e[n].innerHTML="Zone";if("County"==t.type)for(var i=0;i<e.length;i++)e[i].innerHTML="County";!function(t){if(r.ctapolygonbounds.eachLayer((function(t){t.setStyle(I)})),r.countypolygonbounds.eachLayer((function(t){t.setStyle(P)})),r.ctapolygonfills.eachLayer((function(t){t.setStyle(Object.assign({},w))})),r.countypolygonfills.eachLayer((function(t){t.setStyle(Object.assign({},M))})),"Zone"==t.type){t.bbox&&r.fitBounds(t.bbox),r.ctapolygonbounds.eachLayer((function(e){e.feature.properties.ZoneIDOrig==t.ctaid?(e.setStyle(D),e.bringToFront()):e.setStyle(I)})),t.latlng?r.addressmarker.setLatLng(t.latlng).addTo(r):r.addressmarker.setLatLng([0,0]).removeFrom(r);var e=r.choroplethcontrol.getSelection(),n=k.filter((function(t){return t.field==e}))[0],i=[n.colorramp.Q1.fillColor,n.colorramp.Q2.fillColor,n.colorramp.Q3.fillColor,n.colorramp.Q4.fillColor,n.colorramp.Q5.fillColor],l={};-1!=["Cases","AAIR"].indexOf(e)?s.filter((function(t){return"US"!=t.GeoID})).filter((function(t){return t.GeoID!=h.ctaid})).filter((function(e){return e.Years==t.time&&e.Cancer==t.site&&e.Sex==t.sex})).forEach((function(n){var o;switch(e){case"Cases":o=t.race?n["".concat(t.race,"_Cases")]:n.Cases;break;case"AAIR":o=t.race?n["".concat(t.race,"_AAIR")]:n.AAIR}l[n.GeoID]=o})):d.filter((function(t){return"US"!=t.GeoID})).filter((function(t){return t.GeoID!=h.ctaid})).forEach((function(t){var n=t[e];l[t.GeoID]=n}));var c=Object.values(l).filter((function(t){return t})),u=Math.min.apply(Math,o(c)),p=Math.max.apply(Math,o(c)),f=k.filter((function(t){return t.field==e}))[0].format,m=u==1/0?"No Data":R(u,f),g=p==-1/0?"No Data":R(p,f);r.choroplethcontrol.setMinMax(m,g),r.choroplethcontrol.setGradientColors(i);var y=function(t,e){var n=function(t){return t.sort((function(t,e){return t-e}))}(t),o=(n.length-1)*e,a=Math.floor(o),i=o-a;return void 0!==n[a+1]?n[a]+i*(n[a+1]-n[a]):n[a]},v=y(c,.2),b=y(c,.4),L=y(c,.6),C=y(c,.8);r.ctapolygonfills.eachLayer((function(t){var e,o=t.feature.properties.ZoneIDOrig,a=l[o];if(null==a||null==a||""==a)e=Object.assign({},w);else{var i="Q5";a<=v?i="Q1":a<=b?i="Q2":a<=L?i="Q3":a<=C&&(i="Q4"),e=Object.assign({},n.colorramp[i])}t.setStyle(e)}))}else if("County"==t.type){t.bbox&&r.fitBounds(t.bbox),r.ctapolygonbounds.eachLayer((function(t){t.setStyle({color:null})})),r.countypolygonbounds.eachLayer((function(e){e.feature.properties.GEOID==t.countyId?(e.setStyle(D),e.bringToFront()):e.setStyle(I)})),t.latlng?r.addressmarker.setLatLng(t.latlng).addTo(r):r.addressmarker.setLatLng([0,0]).removeFrom(r);var x=r.choroplethcontrol.getSelection(),S=k.filter((function(t){return t.field==x}))[0],A=[S.colorramp.Q1.fillColor,S.colorramp.Q2.fillColor,S.colorramp.Q3.fillColor,S.colorramp.Q4.fillColor,S.colorramp.Q5.fillColor],T={};-1!=["Cases","AAIR"].indexOf(x)?s.filter((function(t){return"US"!=t.GeoID})).filter((function(t){return t.GeoID!=h.ctaid})).filter((function(e){return e.Years==t.time&&e.Cancer==t.site&&e.Sex==t.sex})).forEach((function(e){var n;switch(x){case"Cases":n=t.race?e["".concat(t.race,"_Cases")]:e.Cases;break;case"AAIR":n=t.race?e["".concat(t.race,"_AAIR")]:e.AAIR}T[e.GeoID]=n})):d.filter((function(t){return"US"!=t.GeoID})).filter((function(t){return t.GeoID!=h.ctaid})).forEach((function(t){var e=t[x];T[t.GeoID]=e}));var E=Object.fromEntries(Object.entries(T).filter((function(t){var e,n,o=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,i,r,l=[],c=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(l.push(o.value),l.length!==e);c=!0);}catch(t){s=!0,a=t}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw a}}return l}}(e,n)||a(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0];return o[1],!i.includes("A")}))),N=Object.values(E).filter((function(t){return t})),z=Math.min.apply(Math,o(N)),j=Math.max.apply(Math,o(N)),_=k.filter((function(t){return t.field==x}))[0].format,O=z==1/0?"No Data":R(z,_),U=j==-1/0?"No Data":R(j,_);r.choroplethcontrol.setMinMax(O,U),r.choroplethcontrol.setGradientColors(A);var Z=function(t,e){var n=function(t){return t.sort((function(t,e){return t-e}))}(t),o=(n.length-1)*e,a=Math.floor(o),i=o-a;return void 0!==n[a+1]?n[a]+i*(n[a+1]-n[a]):n[a]},B=Z(N,.2),H=Z(N,.4),$=Z(N,.6),W=Z(N,.8);r.countypolygonfills.eachLayer((function(t){var e,n=t.feature.properties.GEOID,o=T[n];if(null==o||null==o||""==o)e=Object.assign({},w);else{var a="Q5";o<=B?a="Q1":o<=H?a="Q2":o<=$?a="Q3":o<=W&&(a="Q4"),e=Object.assign({},S.colorramp[a])}t.setStyle(e)}))}}(t),function(t){var e=d.filter((function(e){return e.GeoID==t.ctaid&&e.Years==t.time}))[0];if("County"==t.type){var n=d.filter((function(e){return e.GeoID==t.countyId&&e.Years==t.time}))[0];e=n}var o=d.filter((function(e){return e.GeoID==h.ctaid&&e.Years==t.time}))[0],a=d.filter((function(e){return"US"==e.GeoID&&e.Years==t.time}))[0],i=$("#demographic-tables"),r=i.find('[data-region="cta"]'),l=i.find('[data-region="nation"]');t.ctaid==h.ctaid?r.hide():r.show(),l.show();var c=t.ctaname;"County"==t.type&&(c=t.countyName+" County");var s=t.ctaid==h.ctaid?"":"(".concat(e.GeoID,")");i.find('span[data-statistics="ctaname"]').text(c),i.find('span[data-statistics="ctaname"]').closest("span.subtitle").prop("aria-label",c+" "+s),x.forEach((function(t){t.rows.forEach((function(t){var n=i.find('span[data-region="cta"][data-statistic="'.concat(t.field,'"]')),r=R(e[t.field],t.format);n.text(r);var l=i.find('span[data-region="state"][data-statistic="'.concat(t.field,'"]')),c=R(o[t.field],t.format);l.text(c);var s=i.find('span[data-region="nation"][data-statistic="'.concat(t.field,'"]')),d=R(a[t.field],t.format);s.text(d)}))}))}(t),function(t){if(t.ctaid!=h.ctaid){var e=p.filter((function(e){return e.ZoneIDOrig==t.ctaid})).map((function(t){return"".concat(t.County," County")})),n=u.filter((function(e){return e.ZoneIDOrig==t.ctaid})).map((function(t){return t.City}));e.sort(),n.sort();var o=$("div.places-area");if(o.empty(),$("<h3 class='title'></h3>").text("Location Details").appendTo(o),"Zone"==t.type){var a=t.ctaname+" ("+t.ctaid+")",i=$("<div ></div>").html("<b class='subtitle'>Zone: </b>").appendTo(o);$("<span></span>").text(a).appendTo(i)}if(e.length){var r=e.join(", "),l=$("<div></div>").html("<b class='subtitle'>Counties: </b>").appendTo(o);$("<span></span>").text(r).appendTo(l)}if(n.length&&"Zone"==t.type){var c=n.join(", "),s=$("<div></div>").html("<b class='subtitle'>Places: </b>").appendTo(o);$("<span></span>").text(c).appendTo(s)}!function(t){var e=$("#data-filters-summary");e.find(".filters-list").remove();var n='<div class="filters-list" style="margin-top: 10px;">';$(".data-filters .input-group").each((function(){var e=$(this).find("label").text().trim(),o=$(this).find("select, input"),a=o.val()?o.val().trim():"Not Selected";o.is("select")&&(a=o.find("option:selected").text().trim()),e.includes("Location Search")&&"Zone"==t.type&&(e="Location",a=t.ctaname+" ("+t.ctaid+")"),e.includes("Location Search")&&"County"==t.type&&(e="Location",a=t.countyName+" County");var i="background-color: #e6eaff;; padding: 5px;";"Location"===e&&(i="background-color: #feecd4; padding: 5px;"),n+='<div style="margin-bottom: 15px;">\n                            <span class="subtitle" >'.concat(e,':</span> <span style="font-weight: bold; ; ').concat(i,'">').concat(a,"</span>\n                        </div>")})),n+="</div>",e.append(n)}(t)}}(t),function(t){var e=$("#incidence-title"),n=t.ctaname;"County"==t.type&&(n=t.countyName+" County"),e.find('span[data-statistics="ctaname"]').text(n);var o=s.filter((function(e){return e.GeoID==t.ctaid&&e.Years==t.time&&e.Cancer==t.site&&e.Sex==t.sex}))[0];if("County"==t.type){var a=s.filter((function(e){return e.GeoID==t.countyId&&e.Years==t.time&&e.Cancer==t.site&&e.Sex==t.sex}))[0];console.log("cancerdata_county: ",a),o=a}var i,r,l,c,d,u,p=s.filter((function(e){return e.GeoID==h.ctaid&&e.Years==t.time&&e.Cancer==t.site&&e.Sex==t.sex}))[0],f=s.filter((function(e){return"US"==e.GeoID&&e.Years==t.time&&e.Cancer==t.site&&e.Sex==t.sex}))[0],m="*",g="*",y="";if(o){var v=t.race?o["".concat(t.race,"_Cases")]:o.Cases,b=t.race?o["".concat(t.race,"_AAIR")]:o.AAIR,L=t.race?o["".concat(t.race,"_LCI")]:o.LCI,C=t.race?o["".concat(t.race,"_UCI")]:o.UCI,x=!isNaN(parseInt(v)),w=!isNaN(parseFloat(v));if(x&&(m=v.toLocaleString()),w&&(g=b.toFixed(1)),x&&w){var M=(t.race?o["".concat(t.race,"_LCI")]:o.LCI).toFixed(1),I=(t.race?o["".concat(t.race,"_UCI")]:o.UCI).toFixed(1);y="(".concat(M,", ").concat(I,")")}l=b,i=L,r=C}var D,P,S,A="*",k="*",T="";if(p){var E=t.race?p["".concat(t.race,"_Cases")]:p.Cases,N=t.race?p["".concat(t.race,"_AAIR")]:p.AAIR,z=t.race?p["".concat(t.race,"_LCI")]:p.LCI,j=t.race?p["".concat(t.race,"_UCI")]:p.UCI,_=!isNaN(parseInt(E)),O=!isNaN(parseFloat(E));if(_&&(A=E.toLocaleString()),O&&(k=N.toFixed(1)),_&&O){var U=(t.race?p["".concat(t.race,"_LCI")]:p.LCI).toFixed(1),Z=(t.race?p["".concat(t.race,"_UCI")]:p.UCI).toFixed(1);T="(".concat(U,", ").concat(Z,")")}u=N,c=z,d=j}var B="*",R="*",W="";if(f){var Q=t.race?f["".concat(t.race,"_Cases")]:f.Cases,F=t.race?f["".concat(t.race,"_AAIR")]:f.AAIR,G=t.race?f["".concat(t.race,"_LCI")]:f.LCI,Y=t.race?f["".concat(t.race,"_UCI")]:f.UCI,V=!isNaN(parseInt(Q)),K=!isNaN(parseFloat(Q));if(V&&(B=Q.toLocaleString()),K&&(R=F.toFixed(1)),V&&K){var J=(t.race?f["".concat(t.race,"_LCI")]:f.LCI).toFixed(1),X=(t.race?f["".concat(t.race,"_UCI")]:f.UCI).toFixed(1);W="(".concat(J,", ").concat(X,")")}S=F,D=G,P=Y}t.ctaid==h.ctaid?$('#incidence-readouts [data-region="cta"]').hide():$('#incidence-readouts [data-region="cta"]').show(),$('#incidence-readouts [data-region="nation"]').show(),$('#incidence-readouts span[data-region="cta"][data-statistic="cases"]').text(m),$('#incidence-readouts span[data-region="cta"][data-statistic="aair"]').text(g),$('#incidence-readouts span[data-region="cta"][data-statistic="lciuci"]').text(y),$('#incidence-readouts span[data-region="state"][data-statistic="cases"]').text(A),$('#incidence-readouts span[data-region="state"][data-statistic="aair"]').text(k),$('#incidence-readouts span[data-region="state"][data-statistic="lciuci"]').text(T),$('#incidence-readouts span[data-region="nation"][data-statistic="cases"]').text(B),$('#incidence-readouts span[data-region="nation"][data-statistic="aair"]').text(R),$('#incidence-readouts span[data-region="nation"][data-statistic="lciuci"]').text(W);var q=$('#incidence-readouts span.ucilcicandlechart[data-region="cta"]'),tt=$('#incidence-readouts span.ucilcicandlechart[data-region="state"]'),et=$('#incidence-readouts span.ucilcicandlechart[data-region="nation"]'),nt=D&&P?Math.min(i,c,D):Math.min(i,c),ot=D&&P?Math.max(r,d,P):Math.max(r,d);H(q,"Selected Area",l,i,r,nt-=.2*(ot-nt),ot+=.2*(ot-nt)),H(tt,h.ctaid,u,c,d,nt,ot),H(et,"US",S,D,P,nt,ot)}(t),function(t){var e=$("#filters-and-aairbarchart");e.find('span[data-statistic="cancersite"]').text(O("site",t.site)),e.find('span[data-statistics="ctaname"]').text(t.ctaname),"County"==t.type&&e.find('span[data-statistics="ctaname"]').text(t.countyName+" County");var n=s.filter((function(e){return e.GeoID==t.ctaid&&e.Years==t.time&&e.Cancer==t.site}));"County"==t.type&&(n=s.filter((function(e){return e.GeoID==t.countyId&&e.Years==t.time&&e.Cancer==t.site})));var o={};y.forEach((function(t){o[t.value]=n.filter((function(e){return e.Sex==t.value}))[0]}));var a=v.map((function(t){return O("race",t.value)})),i=y.map((function(t){var e=o[t.value];return{name:t.label,color:C[t.value],data:v.map((function(t){if(!e)return 0;var n=t.value?"".concat(t.value,"_AAIR"):"AAIR",o=e[n];return o||(o=0),o}))}})),r=$("#incidence-barchart"),l=50+55*v.length;r.css({height:"".concat(l,"px")}),Highcharts.chart("incidence-barchart",{chart:{type:"bar"},plotOptions:{series:{groupPadding:.1,maxPointWidth:12,animation:{duration:0},accessibility:{pointDescriptionFormatter:function(t){return"".concat(t.category,", ").concat(t.series.name,", AAIR ").concat(t.y)}}},bar:{dataLabels:{enabled:!0,allowOverlap:!0,crop:!1,overflow:"none",useHTML:!0,formatter:function(){return 0===this.y||null===this.y?'<span style="font-size: 15px; color: #666; position: relative; top: 5px;">*</span>':'<span style="font-size: 10px;">'+this.y+"</span>"}}}},legend:{layout:"horizontal",floating:!0,verticalAlign:"top",y:-20,symbolRadius:0,itemStyle:{fontSize:"18px",fontWeight:"bold"}},title:null,xAxis:{categories:a,title:{text:null},labels:{style:{fontSize:"16px"}}},yAxis:{min:0,title:{text:null},labels:{style:{fontSize:"13px"}}},tooltip:{enabled:!0,useHTML:!0,formatter:function(){return this.series.name},positioner:function(t,e,n){return{x:n.plotX+this.chart.plotLeft+40,y:n.plotY+this.chart.plotTop-e/2}}},credits:{enabled:!0},series:i})}(t)}function O(t,e){return $('div.data-filters select[name="'.concat(t,'"]')).find('option[value="'.concat(e,'"]')).text()}function U(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=$('div.data-filters input[type="text"], div.data-filters select'),n={type:e.filter('[name="type"]').val(),address:e.filter('[name="address"]').val(),sex:e.filter('[name="sex"]').val(),site:e.filter('[name="site"]').val(),race:e.filter('[name="race"]').val(),time:e.filter('[name="time"]').val()};return t&&(n.overlays=r.layerpicker.getLayerStates().filter((function(t){return t.checked})).map((function(t){return t.id})).join(","),n.overlays||(n.overlays="none"),n.choropleth=r.choroplethcontrol.getSelection()),n}function Z(t){var e=$('div.data-filters label[for="data-filters-address"] span');t?e.text(t).removeClass("d-none"):e.text("").addClass("d-none")}function B(t,e,n){"function"==typeof gtag&&gtag("event",t,{event_category:e,event_label:n})}function R(t,e){if(null==t||"NoData"===t)return"";var n;switch(e){case"text":n=t;break;case"integer":n=parseInt(Math.round(t)),n=isNaN(n)?"-":n.toLocaleString();break;case"float":n=parseFloat(t),n=isNaN(n)?"-":n.toFixed(1);break;case"percent":n=parseFloat(t),n=isNaN(n)?"-":n<1?"< 1":n.toFixed(1),n="".concat(n," %");break;case"money":n=parseInt(Math.round(t)),n=isNaN(n)?"-":"$"+n.toLocaleString();break;case"phone":n=t?'<a target="_blank" href="tel:'.concat(t,'">').concat(t,"</a>"):"-";break;case"email":n=t?'<a target="_blank" href="mailto:'.concat(t,'">').concat(t,"</a>"):"-";break;case"url":n=t?"http"==t.toLowerCase().substr(0,4)?t:"http://".concat(t):null,n=t?'<a target="_blank" href="'.concat(n,'">Open Website <i class="fa fa-external-link-square"></i></a>'):"-";break;default:throw"formatFieldValue() got unexpected format type ".concat(e)}return n}function H(t,e,n,o,a,i,r){t.empty(),$('<span class="fullrangeline"></span>').appendTo(t);var l=$('<span class="ucilcirangeline"></span>').appendTo(t),c=r-i,s=100*(n-i)/c;$('<span class="aairpoint"></span>').appendTo(t).css({left:"calc(".concat(s,"% - ").concat(5,"px)")});var d=100*(a-o)/c,u=100*(o-i)/c;l.css({width:"".concat(d,"%"),left:"".concat(u,"%")});var p="".concat(e," LCI ").concat(o,", UCI ").concat(a,", AAIR ").concat(n);t.attr("aria-label",p).prop("title",p)}$(document).ready((function(){var t=[new Promise((function(t){$.get("static/data/cta.json",(function(e){t(e)}),"json")})),new Promise((function(t){$.get("static/data/countybounds.json",(function(e){t(e)}),"json")})),Papa.parsePromise("static/data/allDemographics.csv"),Papa.parsePromise("static/data/allCancerRatesData.csv"),Papa.parsePromise("static/data/counties_by_cta.csv"),Papa.parsePromise("static/data/cities_by_cta.csv")];Promise.all(t).then((function(t){var e,n,o,a,i,C,D,S,A,z,_,Z;l=t[0],c=t[1],d=t[2],s=t[3],p=t[4],u=t[5],e=h.stateName,n=document.querySelectorAll(".stateName"),e&&n.forEach((function(t){t.innerText=e})),function(t){var e=document.querySelectorAll(".numOfCancerSites");t&&e.forEach((function(e){e.innerText=t}))}(h.numOfCancerSites),function(t){var e=document.querySelectorAll(".numZones");t&&e.forEach((function(e){e.innerText=t}))}(h.numOfZones),function(t){var e=document.querySelectorAll(".minZonePop");t&&e.forEach((function(e){e.innerText=t}))}(h.minZonePop),function(t){var e=document.querySelectorAll(".maxZonePop");t&&e.forEach((function(e){e.innerText=t}))}(h.maxZonePop),function(t){var e=document.querySelectorAll(".minTractsPerZone");t&&e.forEach((function(e){e.innerText=t}))}(h.minTractsPerZone),function(t){var e=document.querySelectorAll(".maxTractsPerZone");t&&e.forEach((function(e){e.innerText=t}))}(h.maxTractsPerZone),function(t){var e=document.querySelectorAll(".confirmRaceList");t&&e.forEach((function(e){e.innerText=t.slice(0,-1).join(", ")+", and "+t[t.length-1]}))}(h.raceList),function(t){var e=document.querySelectorAll(".reportingMinCases");t&&e.forEach((function(e){e.innerText=t}))}(h.reportingMinCases),function(t,e){var n=document.querySelectorAll(".stateRegistry");t&&e&&n.forEach((function(n){n.innerText=t,n.parentElement.href=e}))}(h.registry,h.registryLink),function(t){var e=document.querySelectorAll(".fundingSource");t&&e.forEach((function(e){e.innerText=t}))}(h.fundingSource),function(t){var e=document.querySelectorAll(".citationInfo");t&&e.forEach((function(e){e.innerText=t}))}(h.citationInfo),function(t){var e=document.querySelectorAll(".nationalCancerDataSource");t&&e.forEach((function(e){e.innerText=t}))}(h.nationalCancerDataSource),function(t){var e=document.querySelectorAll(".aboutBlurb");t&&e.forEach((function(e){e.innerText=t}))}(h.aboutBlurb),function(t){var e=document.querySelectorAll(".incidenceDateDate");t&&e.forEach((function(e){e.innerText=t}))}(h.incidenceDataDate),function(t){var e=document.querySelectorAll(".sociodemographicDataDateRange");t&&e.forEach((function(e){e.innerText=t}))}(h.sociodemographicDataDateRange),function(){var t=[];if(d[0].GeoID||t.push("Field not found: Zone"),x.forEach((function(e){e.rows.forEach((function(e){void 0===d[0][e.field]&&t.push("DEMOGRAPHIC_TABLES nonexistent demographic field ".concat(e.field))}))})),k.forEach((function(e){"AAIR"!=e.field&&"Cases"!=e.field&&void 0===d[0][e.field]&&t.push("CHOROPLETH_OPTIONS nonexistent demographic field ".concat(e.field))})),d[0].GeoID){var e=d.filter((function(t){return t.GeoID==h.ctaid}));e.length!=m.length&&t.push("Found ".concat(e.length," demographic rows for Statewide"));var n=d.filter((function(t){return"US"==t.GeoID}));n.length!=m.length&&t.push("Found ".concat(n.length," demographic rows for Nationwide"))}if(t.length){t.forEach((function(t){console.error("initValidateDemographicDataset() ".concat(t))}));var o="initValidateDemographicDataset() found errors in the incidence dataset:\n".concat(t.join("\n"));throw alert(o),"initValidateDemographicDataset() reported errors. Quitting."}}(),function(){var t=[];if(s[0].Sex||t.push("Field not found: sex"),s[0].Cancer||t.push("Field not found: cancer"),s[0].Years||t.push("Field not found: years"),s[0].PopTot||t.push("Field not found: PopTot"),s[0].Cases||t.push("Field not found: Cases"),s[0].AAIR||t.push("Field not found: AAIR"),s[0].LCI||t.push("Field not found: LCI"),s[0].UCI||t.push("Field not found: UCI"),v.forEach((function(e){e.value&&(s[0]["".concat(e.value,"_PopTot")]||t.push("Field not found: ".concat(e.value,"_PopTot")),s[0]["".concat(e.value,"_Cases")]||t.push("Field not found: ".concat(e.value,"_Cases")),s[0]["".concat(e.value,"_AAIR")]||t.push("Field not found: ".concat(e.value,"_AAIR")),s[0]["".concat(e.value,"_LCI")]||t.push("Field not found: ".concat(e.value,"_LCI")),s[0]["".concat(e.value,"_UCI")]||t.push("Field not found: ".concat(e.value,"_UCI")))})),s[0].Cancer&&g.forEach((function(e){s.filter((function(t){return t.Cancer==e.value})).length||t.push("Site filtering option ".concat(e.value," not found in the data."))})),s[0].Sex&&y.forEach((function(e){s.filter((function(t){return t.Sex==e.value})).length||t.push("Sex filtering option ".concat(e.value," not found in the data."))})),s[0].Years&&m.forEach((function(e){s.filter((function(t){return t.Years==e.value})).length||t.push("Time filtering option ".concat(e.value," not found in the data."))})),Object.keys(b).forEach((function(e){g.filter((function(t){return t.value==e})).length||t.push("Site ".concat(e," in CANCER_SEXES is not an option in SEARCHOPTIONS_CANCERSITE"))})),Object.values(b).forEach((function(e){y.filter((function(t){return t.value==e})).length||t.push("Sex ".concat(e," in CANCER_SEXES is not an option in SEARCHOPTIONS_SEX"))})),s[0].GeoID&&s[0].Cancer&&s[0].Sex&&s[0].Years&&y.forEach((function(e){m.forEach((function(n){g.forEach((function(o){if(!b[o.value]||b[o.value]==e.value){var a=s.filter((function(t){return t.Years==n.value&&t.Sex==e.value&&t.Cancer==o.value})),i=a.filter((function(t){return t.GeoID==h.ctaid}));a.length?i.length||t.push("No Statewide data rows for ".concat(n.value,"/").concat(o.value,"/").concat(e.value)):t.push("No data rows would match ".concat(n.value,"/").concat(o.value,"/").concat(e.value))}}))}))})),t.length){t.forEach((function(t){console.error("initValidateIncidenceDataset() ".concat(t))}));var e="initValidateIncidenceDataset() found errors in the incidence dataset:\n".concat(t.join("\n"));throw alert(e),"initValidateIncidenceDataset() reported errors. Quitting."}}(),N.filter((function(t){return"counties"==t.id}))[0].layer=L.topoJson(c,{pane:"tooltipPane",zIndex:500,style:T}),N.filter((function(t){return"zones"==t.id}))[0].layer=L.topoJson(l,{pane:"tooltipPane",zIndex:500,style:E}),o=$("#demographic-tables"),x.forEach((function(t){var e=$('\n            <table class="table-striped table-sm">\n                <thead>\n                    <tr>\n                        <th class="nowrap left"><span class="subtitle" tabindex="0">'.concat(t.title,'</span></th>\n                        <th class="nowrap right typeName" data-region="cta" >Zone</th>\n                        <th class="nowrap right" data-region="state" >Statewide</th>\n                        <th class="nowrap right" data-region="nation" >Nationwide</th>\n                    </tr>\n                </thead>\n                <tbody>\n                </tbody>\n            </table>\n        ')),n=e.children("tbody");t.rows.forEach((function(t){var e=t.tooltip_id?'<i class="fa fa-info-circle"  data-tooltip="'.concat(t.tooltip_id,'"></i>'):"";$('\n                <tr>\n                    <th scope="row">'.concat(t.label," ").concat(e,'</th>\n                    <td class="right nowrap" data-region="cta"><span data-region="cta" data-statistic="').concat(t.field,'"></span></td>\n                    <td class="right nowrap" data-region="state"><span data-region="state" data-statistic="').concat(t.field,'"></span></td>\n                    <td class="right nowrap" data-region="nation"><span data-region="nation" data-statistic="').concat(t.field,'"></span></td>\n                </tr>\n            ')).appendTo(n)})),e.appendTo(o)})),function(){r=L.map("map",{minZoom:h.MIN_ZOOM,maxZoom:h.MAX_ZOOM}).fitBounds(h.MAP_BBOX),L.control.scale().addTo(r),L.Control.boxzoom({position:"topleft"}).addTo(r);var t=L.icon({iconUrl:"static/map_marker.svg",iconSize:[36.25,51.25],iconAnchor:[17.75,41.25]});function e(t){t.tile.src="static/transparent_256x256.png"}r.addressmarker=L.marker([0,0],{pane:"popupPane",icon:t}),r.layerpicker=new L.Control.LayerPicker({expanded:!0,layers:N,onLayerChange:function(t,e){B("map",e?"overlay-on":"overlay-off",t)}}).addTo(r),N.forEach((function(t){t.layer.on("tileerror",e)})),r.printplugin=L.easyPrint({sizeModes:["Current"],exportOnly:!0,hidden:!0,hideControlContainer:!1,hideClasses:["leaflet-layerpicker-control","leaflet-control-attribution","leaflet-control-zoom","leaflet-control-boxzoom"]}).addTo(r),r.ctapolygonfills=L.topoJson(l,{pane:"shadowPane",style:w}).addTo(r),r.ctapolygonbounds=L.topoJson(l,{pane:"tooltipPane",style:I}).addTo(r),r.countypolygonfills=L.topoJson(c,{pane:"shadowPane",style:M}).addTo(r),r.countypolygonbounds=L.topoJson(c,{pane:"tooltipPane",style:P}).addTo(r),r.choroplethcontrol=new L.Control.ChoroplethLegend({expanded:!0,selectoptions:k,onChoroplethChange:function(t){j(),B("map","choropleth",t)}}).addTo(r),r.on("singleclick",(function(t){var e=$('div.data-filters input[type="text"], div.data-filters select').filter('[name="address"]'),n="".concat(t.latlng.lat.toFixed(5),",").concat(t.latlng.lng.toFixed(5));e.val(n).change()}))}(),function(t){var e=$('div.data-filters select[name="site"]'),n=$('div.data-filters select[name="sex"]'),o=$('div.data-filters select[name="race"]'),a=$('div.data-filters select[name="time"]'),i=$('div.data-filters select[name="type"]');g.forEach((function(t){$('<option value="'.concat(t.value,'">').concat(t.label,"</option>")).appendTo(e)})),v.forEach((function(t){$('<option value="'.concat(t.value,'">').concat(t.label,"</option>")).appendTo(o)})),y.forEach((function(t){$('<option value="'.concat(t.value,'">').concat(t.label,"</option>")).appendTo(n)})),m.forEach((function(t){$('<option value="'.concat(t.value,'">').concat(t.label,"</option>")).appendTo(a)})),f.forEach((function(t){$('<option value="'.concat(t.value,'">').concat(t.label,"</option>")).appendTo(i)})),$('div.data-filters select[name="'.concat("time",'"]')).find("option").length<2&&a.closest("div.input-group").hide(),$("#data-filters-address").val(t);var r=$('div.data-filters input[type="text"], div.data-filters select'),l=$("div.data-filters-summary");r.change((function(){var t=$(this);if(t.is(e)){var o=b[t.val()];o&&n.val(o)}j()})),r.filter('[name="address"]').keydown((function(t){9!=t.keyCode&&$(this).data("hasbeenchanged",!0),13==t.keyCode&&$(this).blur()})),l.on("keypress","div",(function(t){13==t.keyCode&&$(this).click()})),l.on("click","[data-filter]",(function(){var t=$(this).closest("span").attr("data-filter"),e=r.filter('[name="'.concat(t,'"]'));if("SELECT"==e[0].tagName){var n=e.find("option").first().prop("value");e.val(n).change()}else{if("INPUT"!=e[0].tagName||"text"!=e.prop("type"))throw"Clear filter: unknown filter type";e.val("").change()}}))}(h.startingLocation),$("i[data-tooltip]").each((function(){var t=$(this),e=$(this).attr("data-tooltip");t.attr("data-tooltip-content",'#tooltip_contents > div[data-tooltip="'.concat(e,'"]')).tooltipster({trigger:"click",animation:"fade",animationDuration:150,distance:0,maxWidth:400,minWidth:300,side:["right","left","bottom","top"],contentCloning:!0,interactive:!0,functionBefore:function(t,e){jQuery.each(jQuery.tooltipster.instances(),(function(t,e){e.close()}))}})})),function(){var t=$("#printpagebutton"),e=$("#map").parent("div").get(0),n=e.className,o=$("#incidence-barchart"),a=[];t.data("ready-html",t.html()),t.data("busy-html",'<i class="fa fa-clock"></i> Printing');var i=[];window.addEventListener("beforeprint",(function(){(i=[document.querySelector(".leaflet-control-attribution"),document.querySelector(".leaflet-control-zoom"),document.querySelector(".leaflet-control-boxzoom"),document.querySelector(".leaflet-control-scale"),document.querySelector(".leaflet-layerpicker-control")]).forEach((function(t){t&&(t.style.display="none")})),t.html(t.data("busy-html")),a=[],r.eachLayer((function(t){t instanceof L.Marker&&(a.push(t),r.removeLayer(t))})),r.invalidateSize()})),window.addEventListener("afterprint",(function(){i.forEach((function(t){t&&(t.style.display="")})),o.removeClass("printing"),e.className=n,r.invalidateSize(),t.html(t.data("ready-html")),a.forEach((function(t){return r.addLayer(t)})),a=[]}))}(),a=$("#downloadbutton"),i=a.children("i.fa").last(),D=(C=$("#downloadoptions")).find("a"),S=D.filter('[data-export="map"]'),a.click((function(){C.not(".d-none").length?(i.addClass("fa-caret-down").removeClass("fa-caret-up"),C.addClass("d-none"),C.attr("aria-expanded","false")):(i.addClass("fa-caret-up").removeClass("fa-caret-down"),C.removeClass("d-none"),C.attr("aria-expanded","true"))})),D.click((function(t){t.stopPropagation()})),S.click((function(){var t=r.choroplethcontrol.getSelectionLabel().replace("%","Percent").replace(/\W/,""),e="MapExport-".concat(t);r.printplugin.printMap("CurrentSize",e)})),S.data("ready-html",S.html()),S.data("busy-html",'<i class="fa fa-clock"></i> One Moment'),r.on("easyPrint-start",(function(){S.html(S.data("busy-html"))})),r.on("easyPrint-finished",(function(){S.html(S.data("ready-html"))})),r.on("easyPrint-start",(function(){var t=r.getSize(),e=r.getContainer();e.style.width="".concat(t.x,"px"),e.style.height="".concat(t.y,"px"),r.choroplethcontrol.setPrintMode(!0)})),r.on("easyPrint-finished",(function(){var t=r.getContainer();t.style.removeProperty("width"),t.style.removeProperty("height"),r.choroplethcontrol.setPrintMode(!1)})),(A=$("#learn-faq button.usa-accordion__button")).click((function(t){var e=$(this),n=e.closest("h2").next(".usa-accordion__content");"true"==e.attr("aria-expanded")?(e.attr("aria-expanded","false"),n.attr("hidden","")):(e.attr("aria-expanded","true"),n.removeAttr("hidden")),t.preventDefault()})),$("#learn-faq .faqs_toggle button").click((function(){var t=$(this);"Collapse All FAQs"==t.text()?(A.filter('[aria-expanded="true"]').click(),t.text("Expand All FAQs")):(A.filter('[aria-expanded="false"]').click(),t.text("Collapse All FAQs"))})),$('div.data-filters select[name="site"]').change((function(){B("search","site",O("site",$(this).val()))})),$('div.data-filters select[name="sex"]').change((function(){B("search","sex",O("sex",$(this).val()))})),$('div.data-filters select[name="race"]').change((function(){B("search","race",O("race",$(this).val()))})),$('div.data-filters input[name="address"]').change((function(){var t=$(this).val();t&&B("search","address",t)})),$("#printpagebutton").click((function(){B("export","print")})),$('#downloadoptions a[data-export="map"]').click((function(){B("export","mapimage")})),$('#learn-text ul.nav a[data-toggle="tab"]').on("shown.bs.tab",(function(){B("learn","tabchange",$(this).text())})),_=(z=$("#termsofusemodal")).find("button"),Z=$("#above-map"),$(window).resize((function(){var t=$("#above-map").height()+$("#search-and-map").height()+$("#filters-and-aairbarchart").height()+$("#demographic-tables").height()+25,e=$("#search-and-map").width()+15+15;z.css({height:"".concat(t,"px"),width:"".concat(e,"px"),top:"".concat(Z.offset().top,"px"),left:"".concat(Z.offset().left,"px")})})),_.click((function(){document.cookie="termsaccepted=true;max-age=31536000",z.addClass("d-none")})),document.cookie.split(";").filter((function(t){return t.indexOf("termsaccepted=true")>=0})).length||setTimeout((function(){$(window).resize(),z.removeClass("d-none")}),500),function(){var t=$('div.data-filters input[type="text"], div.data-filters select'),e=new URLSearchParams(window.location.search);if(["address","site","sex","race","time"].forEach((function(n){var o=t.filter('[name="'.concat(n,'"]')),a=e.get(n);a&&o.val(a)})),e.get("overlays")){var n=e.get("overlays").split(",");r.layerpicker.getLayerStates().forEach((function(t){var e=-1!=n.indexOf(t.id);r.layerpicker.toggleLayer(t.id,e)}))}e.get("choropleth")?r.choroplethcontrol.setSelection(e.get("choropleth")):r.choroplethcontrol.setSelection("AAIR")}(),j(),setInterval((function(){var t,e,n;t=-1==document.location.href.indexOf("?")?document.location.href:document.location.href.substr(0,document.location.href.indexOf("?")),e=U(!0),n=t+"?"+jQuery.param(e),window.history.replaceState({},"",n)}),1e3)}))})),Papa.parsePromise=function(t){return new Promise((function(e){Papa.parse(t,{download:!0,header:!0,skipEmptyLines:"greedy",dynamicTyping:!0,complete:function(t){return e(t.data)}})}))},window.onload=function(){setTimeout((function(){var t=document.querySelector(".leaflet-choroplethlegend-select");if(t){var e=document.querySelector(".leaflet-choroplethlegend-legendgradient");n(),t.addEventListener("change",n)}function n(){var n=document.createElement("span");document.body.appendChild(n);var o=200,a=t.options[t.selectedIndex];n.textContent=a.text,n.offsetWidth>o&&(o=n.offsetWidth),document.body.removeChild(n),t.style.width="".concat(o+10,"px"),e.style.width="".concat(o+10,"px")}}),100)},document.addEventListener("DOMContentLoaded",(function(){document.querySelector('[data-export="data"]').addEventListener("click",(function(){var t,e;t=new JSZip,e=["allCancerRatesData.csv","allDemographics.csv","cities_by_cta.csv","counties_by_cta.csv"].map((function(e){return fetch("./static/data/".concat(e)).then((function(t){return t.blob()})).then((function(n){t.file(e,n)}))})),Promise.all(e).then((function(){t.generateAsync({type:"blob"}).then((function(t){var e=document.createElement("a");e.href=URL.createObjectURL(t),e.download="data-files.zip",e.click()}))}))}))}))})();
//# sourceMappingURL=index.js.map